# Coolify Production Environment Variables
# This file shows the required environment variables for Coolify deployment
# Set these in Coolify Dashboard -> Your Resource -> Environment Variables

# IMPORTANT: You need TWO separate services in Coolify:
# 1. Backend API Service (api.cupperly.com)
# 2. Frontend Web Service (demo.cupperly.com)

# Run this to generate secure secrets:
# node scripts/generate-secrets.js

# ============================================================
# BACKEND API SERVICE (api.cupperly.com)
# ============================================================

NODE_ENV=production
PORT=3001

# Database Configuration (use your Coolify database service)
DATABASE_URL=postgresql://postgres:YOUR_PASSWORD@YOUR_DB_HOST:5432/cupperly

# Redis Configuration (use your Coolify redis service)
REDIS_URL=redis://YOUR_REDIS_HOST:6379

# JWT Configuration (generate with: node scripts/generate-secrets.js)
JWT_SECRET=REPLACE_WITH_GENERATED_SECRET
JWT_REFRESH_SECRET=REPLACE_WITH_GENERATED_SECRET
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# NextAuth Configuration
NEXTAUTH_SECRET=REPLACE_WITH_GENERATED_SECRET

# API Configuration - USE YOUR ACTUAL DOMAINS
API_URL=https://api.cupperly.com
WEB_URL=https://demo.cupperly.com

# Multi-tenancy
DEFAULT_TENANT=demo
TENANT_SUBDOMAIN_ENABLED=false

# Security
BCRYPT_ROUNDS=12
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Logging
LOG_LEVEL=info
LOG_FORMAT=combined

# ============================================================
# FRONTEND WEB SERVICE (demo.cupperly.com)
# ============================================================

NODE_ENV=production
WEB_PORT=3000

# API Configuration - MUST POINT TO YOUR API DOMAIN
NEXT_PUBLIC_API_URL=https://api.cupperly.com
API_URL=https://api.cupperly.com

# NextAuth Configuration - USE YOUR FRONTEND DOMAIN
NEXTAUTH_URL=https://demo.cupperly.com
NEXTAUTH_SECRET=SAME_AS_BACKEND_NEXTAUTH_SECRET

# JWT Secrets - MUST BE SAME AS BACKEND
JWT_SECRET=SAME_AS_BACKEND_JWT_SECRET
JWT_REFRESH_SECRET=SAME_AS_BACKEND_JWT_REFRESH_SECRET

